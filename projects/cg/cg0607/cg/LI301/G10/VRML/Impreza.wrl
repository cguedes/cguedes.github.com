#VRML V2.0 utf8

WorldInfo 
{
   title "Subaru Impreza WRC '99"
   info ["desenvolvido para CG"]
}

#EXTERNPROTO	Axis [ ] "axis.wrl#Axis"
#Axis {}

PROTO Carrocaria []
{
	Transform
	{

		rotation 0 0 1 3.1415
		children 
		[
 			Shape
			{
				geometry Extrusion	 #corpo
				{
					crossSection 
					[
						115 281,
						11 281,
						11 270,
						23 263,
						25 224,
						13 222,
						13 214,
						38 209,
						42 181,
						152 156,
						267 146,
						291 146,
						291 262,
						538 262,
						538 146,
						678 134,
						733 122,
						838 122,
						853 149,
						846 194,
						865 202,
						858 252,
						760 269,
						748 197,
						689 166,
						637 184,
						612 232,
						611 278,
						269 278,
						266 225,
						236 182,
						196 170,
						153 181,
						126 206,
						115 281
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, -0.8685  -1.5444 2.3244]
		
					convex FALSE
					ccw	FALSE
					creaseAngle	1.5
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
   					}
				}
			}

			Shape	
			{

				geometry Extrusion 
				{
					crossSection #porta	esquerda
					[
						291 262,
						538 262,
						538 146,
						291 146,
						291 262
					]

					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, 0.7685  -1.5444 2.3244]

					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
   					}
				}
			} 

			Shape	
			{

				geometry Extrusion 
				{
					crossSection #porta	direita
					[
						291 262,
						538 262,
						538 146,
						291 146,
						291 262
					]

					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ -0.7685 -1.5444 2.3244, -0.8685  -1.5444 2.3244 ] 
					# bug ?? se trocarmos a ordem da spine

					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
   					}
				}
			}

			Shape
			{
				geometry Extrusion 
				{
					crossSection #vidros frente	direito
					[
						291 146,
						538 146,
						523 59, #j
						416 69,
						291 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, 0.8485  -1.5444 2.3244]


					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .255 .349 .255
						transparency .616
						specularColor 1 1 1
						shininess .494
   					}
				}
			}

			Shape
			{
				geometry Extrusion 
				{
					crossSection #vidros frente esquerdo
					[
						291 146,
						538 146,
						523 59, #j
						416 69,
						291 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ -0.8485  -1.5444 2.3244, -0.8685  -1.5444 2.3244 ]


					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .255 .349 .255
						transparency .616
						specularColor 1 1 1
						shininess .494
   					}
				}
			}

			Shape	
			{
				geometry Extrusion 
				{
					crossSection #vidros tras direito
					[
						538 146,
						678 134,
						623 70,
						592 59,
						523 59, #j
						538 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, 0.8485  -1.5444 2.3244]


					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .255 .349 .255
						transparency .616
						specularColor 1 1 1
						shininess .494
   					}
				}
			}

			Shape	
			{
				geometry Extrusion 
				{
					crossSection #vidros tras esquerdo
					[
						538 146,
						678 134,
						623 70,
						592 59,
						523 59, #j
						538 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [  -0.8485  -1.5444 2.3244, -0.8685  -1.5444 2.3244]


					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .255 .349 .255
						transparency .616
						specularColor 1 1 1
						shininess .494
   					}
				}
			}

			Shape	
			{
				geometry Extrusion #suporte frontal	direito
				{
					crossSection 
					[
						267 146
						291 146,
						416 69,
						412 62,
						267 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, 0.7685  -1.5444 2.3244]

					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
   					}
				}
			}

			Shape	
			{
				geometry Extrusion #suporte frontal esquerdo
				{
					crossSection 
					[
						267 146
						291 146,
						416 69,
						412 62,
						267 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ -0.7685  -1.5444 2.3244, -0.8685  -1.5444 2.3244 ]

					convex FALSE
				}

				appearance Appearance 
				{
					material Material 
					{
       					diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
   					}
				}
			}

			Shape	
			{
				geometry Extrusion	#tejadilho
				{
					crossSection 
					[
						 412 62,
						 589 51,
						 632 61,
						 623 70,
						 592 59,
						 523 59, #j
						 416 69,
						 412 62

					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, -0.8685  -1.5444 2.3244]

					convex FALSE
					ccw	FALSE
					creaseAngle	1.5
				}
				appearance Appearance {
					material Material {
						diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
					}
				}
			}

			Shape	
			{
				geometry Extrusion	   #suporte traseiro direito
				{
					crossSection 
					[
						678 134,
						733 122,
						632 61,
						623 70,
						678 134
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.8685  -1.5444 2.3244, 0.7685  -1.5444 2.3244]

					convex FALSE
					creaseAngle	1.5

				}
				appearance Appearance {
					material Material {
						diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
					}
				}
			}

			Shape	
			{
				geometry Extrusion	  #suporte traseiro esquerdo
				{
					crossSection 
					[
						678 134,
						733 122,
						632 61,
						623 70,
						678 134
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ -0.7685  -1.5444 2.3244, -0.8685  -1.5444 2.3244]

					convex FALSE
					creaseAngle	1.5
				}
				appearance Appearance {
					material Material {
						diffuseColor .129 .122 1
						specularColor .247 .286 .8
						ambientIntensity .337
						shininess .247
					}
				}
			}

			Shape	
			{
				geometry Extrusion	  #vidro frontal
				{
					crossSection 
					[
						267 146,
						412 62,
						414 62,
						269 146,
						267 146
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.7685  -1.5444 2.3244, -0.7685  -1.5444 2.3244]

					convex FALSE
				}
				appearance Appearance {
					material Material {
						diffuseColor .33 .34 .6
						specularColor .29 .29 .29
						ambientIntensity .103
						shininess .79
						transparency .494
					}
				}
			}

			Shape	
			{
				geometry Extrusion	  #vidro traseiro
				{
					crossSection 
					[
						733 122,
						632 61,
						630 61,
						731 122,
						733 122
					]
					scale [ 0.0052 0.0052 ]
					orientation	[ 0 1 0 1.5707 ]
					spine [ 0.7685  -1.5444 2.3244, -0.7685  -1.5444 2.3244]

					convex FALSE
				}
				appearance Appearance {
					material Material {
						diffuseColor .255 .349 .255
						transparency .616
						specularColor 1 1 1
						shininess .494
					}
				}
			}

		]
	}
}

PROTO Aileron [] 
{
		Shape
		{
			geometry Extrusion 
			{
				crossSection
				[
					0.75 0,
					0.65 0.4,
					-0.65 0.4,
					-0.75 0,
					-0.72 0,
					-0.63 0.36,
					0.63 0.36,
					0.72 0,
					0.75 0
				]
				orientation	[ 1 0 0 -0.6108 , 1 0 0 -0.5508]
				spine [ 0 0.8 -1.65, 0 0.8 -1.9 ]
				ccw	FALSE
				creaseAngle	1.5
			}
			appearance Appearance {
				material Material {
					diffuseColor 0 0 1
					specularColor .0471 0 .22
					ambientIntensity .337
					shininess .239
				}
			}
		} 

}

PROTO Pneu []
{	  
	Transform 
	{
		rotation  0 0 1 1.5707
		children 
		[
 			Shape 
			{
				geometry Cylinder 
				{
					height 0.25
					radius 0.312
				}

				appearance Appearance 
				{
					material Material 
					{
						diffuseColor .129 .161 .149
					}

					texture	ImageTexture	
					{
						url	"roda.jpg"
					}
					
					textureTransform	TextureTransform	
					{
						center 0 0
						scale 1.1 1.1
					}	
				}
			}
		    
		]
	} 
}


PROTO Impreza []	
{
	Group 
	{
		children 
		[
			Carrocaria {}
			Aileron	{}

			Transform 
			{
				translation 0.5 0.50 2.1
				children 
				[
					Shape		#luzes frente
					{
						geometry Box
						{
							size 0.3 0.1 0.06
						}
						appearance Appearance 
						{
							material Material 
							{
								diffuseColor .467 .455 .122
								specularColor 0 .118 .102
								emissiveColor .714 .565 .098
								ambientIntensity .137
								shininess .286
							}
						}
					}
				]		   
			}

			Transform		   #luzes frente
			{
				translation -0.50 0.50 2.1
				children 
				[
					Shape 
					{
						geometry Box
						{
							size 0.3 0.1 0.06
						}
						appearance Appearance 
						{
							material Material 
							{
								diffuseColor .467 .455 .122
								specularColor 0 .118 .102
								ambientIntensity .137
								shininess .286
								emissiveColor .714 .565 .098
							}
						}
					}
				]		   
			}

			Transform	#pneu tras esquerdo
			{
				translation	0.8 0.25 -1.23
				children 
				[
					Pneu {}
				]
			}

			Transform	#pneu tras direito
			{
				translation	-0.8 0.25 -1.23
				children 
				[
					Pneu {}
				]
			}

			Transform	#pneu frente esquerdo
			{
				translation	0.8 0.25 1.33
				children 
				[
					Pneu {}
				]
			}

			Transform	#pneu frente direito
			{
				translation	-0.8 0.25 1.33
				children 
				[
					Pneu {}
				]
			}
			

		]
	}
}